<html
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Domestic Personal Questionare</title>

    <link href="https://fonts.googleapis.com/css?family=Merriweather|Playfair+Display" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <style>
       body {
          margin:40px; 
       }
    
        #container {
            margin: 40 65 40 90;
        }
        h3 {
            font-size: 35;
        }
        h3,
        h4,
        hr,
        label,
        a {
            color: midnight blue;
        }
        #line-marker {
            background-color: midnight blue!important;
            border: solid 1px midnight blue !important;
            width: 100% !important;
            color: midnight blue !important;
        }
        .form-control,
        .custom-select-sm {
            border-color: midnight blue;
            background-color: rgb(235, 243, 255);
            color: midnight blue;
            margin-right: 25px;
        }
        select {
            margin-bottom: 15px;
        }
        button {
            background-color: midnight blue;
            color: rgb(235, 243, 255);
            margin-right: 25px;
        }
        img {
            margin-left: 32px;
            width:400px;
            height:280px;
        }
    </style>

</head>

<body>
    <div id="container">

        <h3 class="row">
            <strong>Customize Your Travel</strong>
        </h3>

        <hr class="row" id="line-marker">

        <h4 class="row">
            <strong>DOMESTIC PERSONAL QUESTIONNAIRE:   ***ALL ITEMS ARE MULTIPLE-CHOICE
            </strong>
        </h4>

        <div class="row">
            <button type="submit" class="btn btn-sm" id="submit">
                Submit</button>
                <button type="delete" class="btn btn-sm" id="delete">
                 Delete</button>
                <button type="save" class="btn btn-sm" id="save">
                Save</button>
        </div>

        <div class="form-group row">
            <label for="name">List Name </label>
            <input type="name" class="form-control" placeholder="name" id="name" required>
        </div>
<!-- function that queries the database to see if that named travel bag exists
if it does exist pull in whatever fields that have been saved and display it to user
user can either finish(submit), save for later, or delete -->
        <h4 class="row">
        </h4>
        <label for="sel1" class="row">Flying or Driving</label>
        <div class="form-group row">
            <div class="col-xs-3">
                <select class="custom-select-sm" id="question8">
                    <option selected>choose one</option>
                    <option value="1">Flying</option>
                    <option value="2">Drying</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="name">City and State you Are Leaving From</label>
            <input type="name" class="form-control" placeholder="name" id="name" required>
        </div>

        <div class="form-group row">
            <label for="name">Destination City and State </label>
            <input type="name" class="form-control" placeholder="name" id="name" required>
        </div>
       

     <!-- Drop-Down Display of Questions Begin -->   
        
        <hr class="row" id="line-marker">
        <form>
            <h4 class="row">
            </h4>
            <label for="sel1" class="row">TICKET(s) </label>
            <div class="form-group row">
                <div class="col-xs-3">
                    <select class="custom-select-sm" id="question1">
                        <option selected>choose one</option>
                        <option value="1">Buy Round-trip</option>
                        <option value="2">Buy One-way</option>
                        <option value="3">Buy Round-trip and One-Way</option>
                        <option value="4">Have all tickets needed</option>
                    </select>
                </div>
            </div>

            <h4 class="row">
            </h4>
            <label for="sel1" class="row">SEATING</label>
            <div class="form-group row">
                <div class="col-xs-3">
                    <select class="custom-select-sm" id="question2">
                        <option selected>choose one</option>
                        <option value="1">First Class Seating</option>
                        <option value="2">Business Class Seating</option>
                        <option value="3">Coach </option>
                    </select>
                </div>
            </div>

            <h4 class="row">
            </h4>
            <label for="sel1" class="row">DISCOUNT MILEAGE</label>
            <div class="form-group row">
                <div class="col-xs-3">
                    <select class="custom-select-sm" id="question2">
                        <option selected>choose one</option>
                        <option value="1">Using Discount Mileage Points</option>
                        <option value="2">Earning Discount Mileage Points / </option>
                        <option value="3">No Discount Mileage Membership</option>
                    </select>
                </div>
            </div>

            <h4 class="row">
            </h4>
            <label for="sel1" class="row">WAITING AREA</label>
            <div class="form-group row">
                <div class="col-xs-3">
                    <select class="custom-select-sm" id="question2">
                        <option selected>choose one</option>
                        <option value="1">Using First Class Lounge</option>
                        <option value="2">Business Class Lounge</option>
                        <option value="3">Gate-side Waiting Area</option>
                    </select>
                </div>
            </div>
            
            <h4 class="row">
            </h4>
            <label for="sel1" class="row">TRANSPORTATION at ARRIVAL DESTINATION</label>
            <div class="form-group row">
                <div class="col-xs-3">
                    <select class="custom-select-sm" id="question3">
                        <option selected>choose one</option>
                        <option value="1">Company Chauffeur</option>
                        <option value="2">Need a rental car </option>
                        <option value="3">Take a Shuttle</option>
                        <option value="4">Car Pooling</option>
                        <option value="5">Uber or Lyft</option>
                        <option value="6">Taxi</option>
                    </select>
                </div>
            </div>

            <h4 class="row">
            </h4>
            <label for="sel1" class="row">NAVIGATION</label>
            <div class="form-group row">
                <div class="col-xs-3">
                    <select class="custom-select-sm" id="question3">
                        <option selected>choose one</option>
                        <option value="1">Travel Itinerary</option>
                        <option value="2">Driving Directions</option>
                        <option value="3">Local Map</option>
                        <option value="4">Smartphone App</option>
                    </select>
                </div>
            </div>

            <h4 class="row">
            </h4>
            <label for="sel1" class="row">GAS CARD</label>
            <div class="form-group row">
                <div class="col-xs-3">
                    <select class="custom-select-sm" id="question3">
                        <option selected>choose one</option>
                        <option value="1">Use Business Gas Card</option>
                        <option value="2">Use Personal Gas Card</option>
                        <option value="3">No Gas Card</option>
                    </select>
                </div>
            </div>


            <h4 class="row">
            </h4>
            <label for="sel1" class="row">EXPENSES</label>
            <div class="form-group row">
                <div class="col-xs-3"></div>
                    <select class="custom-select-sm" id="question4">
                        <option selected>choose one</option>
                        <option value="1">Business Credit Card</option>
                        <option value="2">Personal Credit Card</option>
                        <option value="3">Cash</option>
                        <option value="4">Travellers Cheques</option>
                        <option value="5">All the above</option>
                    </select>
                </div>
            </div>

            <label for="sel1" class="row">RECEIPTS</label>
            <div class="form-group row">
                <div class="col-xs-3"></div>
                    <select class="custom-select-sm" id="question4">
                        <option selected>choose one</option>
                        <option value="1">All expenses covered</option>
                        <option value="2">Use Charge Card Bill for receipts</option>
                        <option value="3">No receipts needed</option>
                    </select>
                </div>
            </div>

            <h4 class="row">
            </h4>
            <label for="sel1" class="row">SLEEPING ACCOMMODATIONS</label>
            <div class="form-group row">
                <div class="col-xs-3">
                    <select class="custom-select-sm" id="question6">
                        <option selected>choose one</option>
                        <option value="1">Need sleeping accommodations</option>
                        <option value="2">Accommodations made</option>
                        <option value="3">Other accommodations</option>
                    </select>
                </div>
            </div>

            <h4 class="row">
                </h4>
                <label for="sel1" class="row">DISCOUNT POINTS</label>
                <div class="form-group row">
                    <div class="col-xs-3">
                        <select class="custom-select-sm" id="question6">
                            <option selected>choose one</option>
                            <option value="1">Using Provider Discount Points</option>
                            <option value="2">Earning Provider Discount Points</option>
                            <option value="3">No Discount Membership</option>
                        </select>
                    </div>
                </div>

                <h4 class="row">
                    </h4>
                    <label for="sel1" class="row">DESTINATION EATING ACCOMMODATIONS</label>
                    <div class="form-group row">
                        <div class="col-xs-3">
                            <select class="custom-select-sm" id="question6">
                                <option selected>choose one</option>
                                <option value="1">Using First Class Dining Area</option>
                                <option value="2">Business Class Dining Area</option>
                                <option value="3">Eating in the room</option>
                                <option value="3">Any Restaurant</option>
                            </select>
                        </div>
                    </div>
        

            <h4 class="row">
            </h4>
            <label for="sel1" class="row">RETURN TRANSPORTATION</label>
            <div class="form-group row">
                <div class="col-xs-3">
                    <select class="custom-select-sm" id="question7">
                        <option selected>choose one</option>
                        <option value="1"> Company Chauffeur</option>
                        <option value="2"> Return a Rental</option>
                        <option value="3"> Use Shuttle</option>
                        <option value="4"> Car Pooling</option>
                        <option value="5"> Uber or Lyft</option>
                        <option value="5"> Need Return Transportation to home</option>
                        <option value="5"> Need Return Transportation to office</option>
                        <option value="5"> Car in Paid Parking Lot</option>
                    </select>
                </div>
            </div>

        <div class="row">
            <button type="submit" class="btn btn-sm" id="submit">
                Submit</button>
                <button type="delete" class="btn btn-sm" id="delete">
                Delete</button>
                <button type="save" class="btn btn-sm" id="save">
                Save</button>
        </div>
    </div>
    </div>

    <div class="modal" id="resultsModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">Best Match</h3>
                    <button type="button" class="close" onclick="location.reload()" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    
                </div>
                <div class="modal-body">
                    <h3 id="matchName"></h3>
                    <img id="matchImg" src="http://via.placeholder.com/350x250" alt="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="location.reload()" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    $("#submit").on("click", function (event) {
        event.preventDefault();
        // check that input is valid
        for (var i = 1; i < 11; i++) {
           
            `
             if ($.trim($("#question" + [i]).val()) === "" || $("#question" + [i]).val().trim() === "choose one") {
                alert("Please fill out all fields before submitting!");
                return false;
            };
        };
        if ($.trim($("#name").val()) === "" || $.trim($("#name").val()) === "name") {
            alert("Please fill out all fields before submitting!");
            $("#name").val("Enter a valid name");
            return false;
        } else if ($.trim($("#photo").val()) === "" || $.trim($("#url").val()) === "photo") {
            $("#photo").val("Enter a valid url address");
            alert("Please fill out all fields before submitting!");
            return false;
        } else {
            var newFriend = {
                name: $("#name").val().trim(),
                photo: $("#photo").val().trim(),
                scores: [$("#question1").val(), $("#question2").val(), $("#question3").val(), $("#question4").val(), $("#question5").val(), $("#question6").val(), $("#question7").val(), $("#question8").val(), $("#question9").val(), $("#question10").val()]
            };
            
            var currentURL = window.location.origin;
            $.post("/api/friends", newFriend, function (data) {
                $("#matchName").text(data.name);
                $("#matchImg").attr("src", data.photo);
                // Show the modal with the best match 
                $("#resultsModal").modal("toggle");
            });
        };
    });
</script>

</html>